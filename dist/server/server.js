"use strict";var __create=Object.create;var __defProp=Object.defineProperty;var __getOwnPropDesc=Object.getOwnPropertyDescriptor;var __getOwnPropNames=Object.getOwnPropertyNames;var __getProtoOf=Object.getPrototypeOf;var __hasOwnProp=Object.prototype.hasOwnProperty;var __commonJS=(cb,mod)=>function __require(){return mod||(0,cb[__getOwnPropNames(cb)[0]])((mod={exports:{}}).exports,mod),mod.exports};var __copyProps=(to,from,except,desc)=>{if(from&&typeof from==="object"||typeof from==="function"){for(let key of __getOwnPropNames(from))if(!__hasOwnProp.call(to,key)&&key!==except)__defProp(to,key,{get:()=>from[key],enumerable:!(desc=__getOwnPropDesc(from,key))||desc.enumerable})}return to};var __toESM=(mod,isNodeMode,target)=>(target=mod!=null?__create(__getProtoOf(mod)):{},__copyProps(isNodeMode||!mod||!mod.__esModule?__defProp(target,"default",{value:mod,enumerable:true}):target,mod));var require_acl=__commonJS({"node_modules/@overextended/ox_lib/server/resource/acl/index.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.removePrincipal=exports.addPrincipal=exports.removeAce=exports.addAce=void 0;var addAce=(principal,ace,allow)=>exports.ox_lib.addAce(principal,ace,allow);exports.addAce=addAce;var removeAce=(principal,ace,allow)=>exports.ox_lib.addAce(principal,ace,allow);exports.removeAce=removeAce;var addPrincipal=(child,parent)=>exports.ox_lib.addPrincipal(child,parent);exports.addPrincipal=addPrincipal;var removePrincipal=(child,parent)=>exports.ox_lib.removePrincipal(child,parent);exports.removePrincipal=removePrincipal}});var require_locale=__commonJS({"node_modules/@overextended/ox_lib/server/resource/locale/index.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getServerLocale=void 0;var getServerLocale=()=>exports.ox_lib.getServerLocale();exports.getServerLocale=getServerLocale}});var require_version=__commonJS({"node_modules/@overextended/ox_lib/shared/resource/version/index.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.checkDependency=void 0;var checkDependency=(resource,minimumVersion,printMessage)=>exports.ox_lib.checkDependency(resource,minimumVersion,printMessage);exports.checkDependency=checkDependency}});var require_cache=__commonJS({"node_modules/@overextended/ox_lib/shared/resource/cache/index.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.onCache=exports.cache=void 0;exports.cache=new Proxy({resource:GetCurrentResourceName()},{get(target,key){const result=key?target[key]:target;if(result!==void 0)return result;AddEventHandler(`ox_lib:cache:${key}`,value=>{target[key]=value});target[key]=exports.ox_lib.cache(key)||false;return target[key]}});var onCache=(key,cb)=>{AddEventHandler(`ox_lib:cache:${key}`,cb)};exports.onCache=onCache}});var require_boolean=__commonJS({"node_modules/boolean/build/lib/boolean.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.boolean=void 0;var boolean=function(value){switch(Object.prototype.toString.call(value)){case"[object String]":return["true","t","yes","y","on","1"].includes(value.trim().toLowerCase());case"[object Number]":return value.valueOf()===1;case"[object Boolean]":return value.valueOf();default:return false}};exports.boolean=boolean}});var require_isBooleanable=__commonJS({"node_modules/boolean/build/lib/isBooleanable.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isBooleanable=void 0;var isBooleanable=function(value){switch(Object.prototype.toString.call(value)){case"[object String]":return["true","t","yes","y","on","1","false","f","no","n","off","0"].includes(value.trim().toLowerCase());case"[object Number]":return[0,1].includes(value.valueOf());case"[object Boolean]":return true;default:return false}};exports.isBooleanable=isBooleanable}});var require_lib=__commonJS({"node_modules/boolean/build/lib/index.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isBooleanable=exports.boolean=void 0;var boolean_1=require_boolean();Object.defineProperty(exports,"boolean",{enumerable:true,get:function(){return boolean_1.boolean}});var isBooleanable_1=require_isBooleanable();Object.defineProperty(exports,"isBooleanable",{enumerable:true,get:function(){return isBooleanable_1.isBooleanable}})}});var require_tokenize=__commonJS({"node_modules/fast-printf/dist/src/tokenize.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.tokenize=void 0;var TokenRule=/(?:%(?<flag>([+0-]|-\+))?(?<width>\d+)?(?<position>\d+\$)?(?<precision>\.\d+)?(?<conversion>[%BCESb-iosux]))|(\\%)/g;var tokenize=subject=>{let matchResult;const tokens=[];let argumentIndex=0;let lastIndex=0;let lastToken=null;while((matchResult=TokenRule.exec(subject))!==null){if(matchResult.index>lastIndex){lastToken={literal:subject.slice(lastIndex,matchResult.index),type:"literal"};tokens.push(lastToken)}const match=matchResult[0];lastIndex=matchResult.index+match.length;if(match==="\\%"||match==="%%"){if(lastToken&&lastToken.type==="literal"){lastToken.literal+="%"}else{lastToken={literal:"%",type:"literal"};tokens.push(lastToken)}}else if(matchResult.groups){lastToken={conversion:matchResult.groups.conversion,flag:matchResult.groups.flag||null,placeholder:match,position:matchResult.groups.position?Number.parseInt(matchResult.groups.position,10)-1:argumentIndex++,precision:matchResult.groups.precision?Number.parseInt(matchResult.groups.precision.slice(1),10):null,type:"placeholder",width:matchResult.groups.width?Number.parseInt(matchResult.groups.width,10):null};tokens.push(lastToken)}}if(lastIndex<=subject.length-1){if(lastToken&&lastToken.type==="literal"){lastToken.literal+=subject.slice(lastIndex)}else{tokens.push({literal:subject.slice(lastIndex),type:"literal"})}}return tokens};exports.tokenize=tokenize}});var require_createPrintf=__commonJS({"node_modules/fast-printf/dist/src/createPrintf.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createPrintf=void 0;var boolean_1=require_lib();var tokenize_1=require_tokenize();var formatDefaultUnboundExpression=(subject,token)=>{return token.placeholder};var createPrintf=configuration=>{var _a;const padValue=(value,width,flag)=>{if(flag==="-"){return value.padEnd(width," ")}else if(flag==="-+"){return((Number(value)>=0?"+":"")+value).padEnd(width," ")}else if(flag==="+"){return((Number(value)>=0?"+":"")+value).padStart(width," ")}else if(flag==="0"){return value.padStart(width,"0")}else{return value.padStart(width," ")}};const formatUnboundExpression=(_a=configuration===null||configuration===void 0?void 0:configuration.formatUnboundExpression)!==null&&_a!==void 0?_a:formatDefaultUnboundExpression;const cache={};return(subject,...boundValues)=>{let tokens=cache[subject];if(!tokens){tokens=cache[subject]=tokenize_1.tokenize(subject)}let result="";for(const token of tokens){if(token.type==="literal"){result+=token.literal}else{let boundValue=boundValues[token.position];if(boundValue===void 0){result+=formatUnboundExpression(subject,token,boundValues)}else if(token.conversion==="b"){result+=boolean_1.boolean(boundValue)?"true":"false"}else if(token.conversion==="B"){result+=boolean_1.boolean(boundValue)?"TRUE":"FALSE"}else if(token.conversion==="c"){result+=boundValue}else if(token.conversion==="C"){result+=String(boundValue).toUpperCase()}else if(token.conversion==="i"||token.conversion==="d"){boundValue=String(Math.trunc(boundValue));if(token.width!==null){boundValue=padValue(boundValue,token.width,token.flag)}result+=boundValue}else if(token.conversion==="e"){result+=Number(boundValue).toExponential()}else if(token.conversion==="E"){result+=Number(boundValue).toExponential().toUpperCase()}else if(token.conversion==="f"){if(token.precision!==null){boundValue=Number(boundValue).toFixed(token.precision)}if(token.width!==null){boundValue=padValue(String(boundValue),token.width,token.flag)}result+=boundValue}else if(token.conversion==="o"){result+=(Number.parseInt(String(boundValue),10)>>>0).toString(8)}else if(token.conversion==="s"){if(token.width!==null){boundValue=padValue(String(boundValue),token.width,token.flag)}result+=boundValue}else if(token.conversion==="S"){if(token.width!==null){boundValue=padValue(String(boundValue),token.width,token.flag)}result+=String(boundValue).toUpperCase()}else if(token.conversion==="u"){result+=Number.parseInt(String(boundValue),10)>>>0}else if(token.conversion==="x"){boundValue=(Number.parseInt(String(boundValue),10)>>>0).toString(16);if(token.width!==null){boundValue=padValue(String(boundValue),token.width,token.flag)}result+=boundValue}else{throw new Error("Unknown format specifier.")}}}return result}};exports.createPrintf=createPrintf}});var require_printf=__commonJS({"node_modules/fast-printf/dist/src/printf.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.printf=exports.createPrintf=void 0;var createPrintf_1=require_createPrintf();Object.defineProperty(exports,"createPrintf",{enumerable:true,get:function(){return createPrintf_1.createPrintf}});exports.printf=createPrintf_1.createPrintf()}});var require_locale2=__commonJS({"node_modules/@overextended/ox_lib/shared/resource/locale/index.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.initLocale=exports.getLocales=exports.locale=void 0;var index_1=require_cache();var fast_printf_1=require_printf();var dict={};var locale=(str,...args)=>{const lstr=dict[str];if(!lstr)return str;if(lstr){if(typeof lstr!=="string")return lstr;if(args.length>0){return(0,fast_printf_1.printf)(lstr,...args)}return lstr}};exports.locale=locale;var getLocales=()=>dict;exports.getLocales=getLocales;var initLocale=()=>{const lang=GetConvar("ox:locale","en");let locales=JSON.parse(LoadResourceFile(index_1.cache.resource,`locales/${lang}.json`));if(!locales){console.warn(`could not load 'locales/${lang}.json'`);if(lang!=="en"){locales=LoadResourceFile(index_1.cache.resource,"locales/en.json");if(!locales){console.warn(`could not load 'locales/en.json'`)}}if(!locales)return}for(let[k,v]of Object.entries(locales)){if(typeof v==="string"){const regExp=new RegExp(/\$\{([^}]+)\}/g);const matches=v.match(regExp);if(matches){for(const match of matches){if(!match)break;const variable=match.substring(2,match.length-1);let locale2=locales[variable];if(locale2){v=v.replace(match,locale2)}}}}dict[k]=v}};exports.initLocale=initLocale}});var require_resource=__commonJS({"node_modules/@overextended/ox_lib/shared/resource/index.js"(exports){"use strict";var __createBinding=exports&&exports.__createBinding||(Object.create?function(o,m,k,k2){if(k2===void 0)k2=k;var desc=Object.getOwnPropertyDescriptor(m,k);if(!desc||("get"in desc?!m.__esModule:desc.writable||desc.configurable)){desc={enumerable:true,get:function(){return m[k]}}}Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){if(k2===void 0)k2=k;o[k2]=m[k]});var __exportStar=exports&&exports.__exportStar||function(m,exports2){for(var p in m)if(p!=="default"&&!Object.prototype.hasOwnProperty.call(exports2,p))__createBinding(exports2,m,p)};Object.defineProperty(exports,"__esModule",{value:true});__exportStar(require_version(),exports);__exportStar(require_cache(),exports);__exportStar(require_locale2(),exports)}});var require_shared=__commonJS({"node_modules/@overextended/ox_lib/shared/index.js"(exports){"use strict";var __createBinding=exports&&exports.__createBinding||(Object.create?function(o,m,k,k2){if(k2===void 0)k2=k;var desc=Object.getOwnPropertyDescriptor(m,k);if(!desc||("get"in desc?!m.__esModule:desc.writable||desc.configurable)){desc={enumerable:true,get:function(){return m[k]}}}Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){if(k2===void 0)k2=k;o[k2]=m[k]});var __exportStar=exports&&exports.__exportStar||function(m,exports2){for(var p in m)if(p!=="default"&&!Object.prototype.hasOwnProperty.call(exports2,p))__createBinding(exports2,m,p)};Object.defineProperty(exports,"__esModule",{value:true});__exportStar(require_resource(),exports)}});var require_cache2=__commonJS({"node_modules/@overextended/ox_lib/server/resource/cache/index.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.onCache=exports.cache=void 0;var shared_1=require_shared();Object.defineProperty(exports,"cache",{enumerable:true,get:function(){return shared_1.cache}});Object.defineProperty(exports,"onCache",{enumerable:true,get:function(){return shared_1.onCache}})}});var require_callback=__commonJS({"node_modules/@overextended/ox_lib/server/resource/callback/index.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.onClientCallback=exports.triggerClientCallback=void 0;var cache_1=require_cache2();var activeEvents={};onNet(`__ox_cb_${cache_1.cache.resource}`,(key,...args)=>{const resolve=activeEvents[key];return resolve&&resolve(...args)});function triggerClientCallback2(eventName,playerId,...args){let key;do{key=`${eventName}:${Math.floor(Math.random()*(1e5+1))}:${playerId}`}while(activeEvents[key]);emitNet(`__ox_cb_${eventName}`,playerId,cache_1.cache.resource,key,...args);return new Promise(resolve=>{activeEvents[key]=resolve})}exports.triggerClientCallback=triggerClientCallback2;function onClientCallback2(eventName,cb){onNet(`__ox_cb_${eventName}`,async(resource,key,...args)=>{const src=source;let response;try{response=await cb(src,...args)}catch(e){console.error(`an error occurred while handling callback event ${eventName}`);console.log(`^3${e.stack}^0`)}emitNet(`__ox_cb_${resource}`,src,key,response)})}exports.onClientCallback=onClientCallback2}});var require_version2=__commonJS({"node_modules/@overextended/ox_lib/server/resource/version/index.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.versionCheck=void 0;var versionCheck=repository=>exports.ox_lib.versionCheck(repository);exports.versionCheck=versionCheck}});var require_resource2=__commonJS({"node_modules/@overextended/ox_lib/server/resource/index.js"(exports){"use strict";var __createBinding=exports&&exports.__createBinding||(Object.create?function(o,m,k,k2){if(k2===void 0)k2=k;var desc=Object.getOwnPropertyDescriptor(m,k);if(!desc||("get"in desc?!m.__esModule:desc.writable||desc.configurable)){desc={enumerable:true,get:function(){return m[k]}}}Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){if(k2===void 0)k2=k;o[k2]=m[k]});var __exportStar=exports&&exports.__exportStar||function(m,exports2){for(var p in m)if(p!=="default"&&!Object.prototype.hasOwnProperty.call(exports2,p))__createBinding(exports2,m,p)};Object.defineProperty(exports,"__esModule",{value:true});__exportStar(require_acl(),exports);__exportStar(require_locale(),exports);__exportStar(require_callback(),exports);__exportStar(require_version2(),exports)}});var require_server=__commonJS({"node_modules/@overextended/ox_lib/server/index.js"(exports){"use strict";var __createBinding=exports&&exports.__createBinding||(Object.create?function(o,m,k,k2){if(k2===void 0)k2=k;var desc=Object.getOwnPropertyDescriptor(m,k);if(!desc||("get"in desc?!m.__esModule:desc.writable||desc.configurable)){desc={enumerable:true,get:function(){return m[k]}}}Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){if(k2===void 0)k2=k;o[k2]=m[k]});var __setModuleDefault=exports&&exports.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:true,value:v})}:function(o,v){o["default"]=v});var __importStar=exports&&exports.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(mod!=null){for(var k in mod)if(k!=="default"&&Object.prototype.hasOwnProperty.call(mod,k))__createBinding(result,mod,k)}__setModuleDefault(result,mod);return result};var __exportStar=exports&&exports.__exportStar||function(m,exports2){for(var p in m)if(p!=="default"&&!Object.prototype.hasOwnProperty.call(exports2,p))__createBinding(exports2,m,p)};Object.defineProperty(exports,"__esModule",{value:true});var lib=__importStar(require_resource2());__exportStar(require_resource2(),exports);__exportStar(require_shared(),exports);exports.default=lib}});var import_server=__toESM(require_server());var ESX=global.exports["es_extended"].getSharedObject();(0,import_server.onClientCallback)("ex_interaction:getReputation",(src,pedType)=>{const xPlayer=ESX.GetPlayerFromId(src);const reputation=xPlayer.getMeta("reputation");if(reputation[pedType]==void 0){reputation[pedType]=0;xPlayer.setMeta("reputation",reputation);return 0}return reputation[pedType]});onNet("ex_interaction:increasePedREP",(src,pedType,howMuch)=>{const xPlayer=ESX.GetPlayerFromId(src);const reputation=xPlayer.getMeta("reputation");reputation[pedType]+howMuch>=100?reputation[pedType]=100:reputation[pedType]+howMuch;xPlayer.setMeta("reputation",reputation)});onNet("ex_interaction:decreasePedREP",(src,pedType,howMuch)=>{const xPlayer=ESX.GetPlayerFromId(src);const reputation=xPlayer.getMeta("reputation");reputation[pedType]-howMuch>=0?reputation[pedType]=reputation[pedType]-howMuch:reputation[pedType]=0;xPlayer.setMeta("reputation",reputation)});
